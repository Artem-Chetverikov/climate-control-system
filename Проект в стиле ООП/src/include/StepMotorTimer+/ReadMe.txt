StepMotorTimer

Библиотека управления шаговым двигателем с помощью встроенного таймера


Пример:
#include "StepMotorTimer.h"

SMotor_Timer      Privod_1;   			// объявление привода №1
SMotor_Timer      Privod_2;			// объявление привода №2


Privod_1.StartDrv();				// разрешить работу привода

Privod_1.SetDrv(driver);			// установка функции программного драйвера - обработчика шагов

Privod_1.Set_StepsPR(200);			// установить количество шагов за оборот шагового двигателя (по умолчанию = 200)

Privod_1.Set_AccelSM(10, 50);		// установить ускорение разгона и торможения (по умолчанию = 10 и = 50)

Privod_1.Set_Divider(1);			// установить предделитель драйвера шагового двигателя (по умолчанию = 1)

Privod_1.Set_Reducer(1);			// установить передаточное число редуктора (по умолчанию = 1)




Privod_1.Set_TimerPeriod(1000);		// установка периода счета аппраратного  таймера, мкс (от 1 до 4000; по умолчанию = 1000 мкс)

Privod_1.Set_SpeedSM(30,5);		// установка скорости вращения, об/мин (от 0,01 до 50; по умолчанию = 1 об/мин)

Privod_1.Change_Dir();			// изменение направления вращения на противоположное

Privod_1.StartDrv();				// активация привода

Privod_1.GoStep(5);			// поворот на заданное количество шагов (±)

Privod_1.GoTurn(2,5);			// поворот на заданное количество оборотов (±)


Privod_1.Set_Gisteresis(0.01);		// установить гистерезис вала редуктора

Privod_1.GoTurnReducer(-0,5);		// повернуть выходной вал редуктора на количество оборотов (±)


Privod_1.IsActiveDrv();			// true, если разрешено работать с приводом

Privod_1.StopDrv();				// запретить работу привода

------------------------------------------------------------------




Протестировано 11.06.2020 - успешно